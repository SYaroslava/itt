(()=>{const e=document.querySelectorAll(".close-modal");for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(e=>{n.closest(".form-modal").classList.remove("_open")}))}const t=document.querySelector(".header__burger"),n=document.querySelector(".header");document.querySelector("main");let s=!1;function i(){s=!1,n.classList.remove("_open"),document.body.classList.remove("_block"),window.removeEventListener("click",r)}function r(e){null==e.target.closest(".header")&&i()}t.addEventListener("click",(function(){s?i():(s=!0,n.classList.add("_open"),document.body.classList.add("_block"),window.addEventListener("click",r))}));const o=document.querySelector(".cookies");document.querySelector(".cookies__btn").addEventListener("click",(e=>{o.classList.toggle("_close")}));const l=document.querySelector(".header__body"),c=document.querySelector(".header__menu");let d=!1;const a=document.querySelectorAll(".reason");function u(e){e.target.classList.toggle("_open")}!function(){for(let e=0;e<a.length;e++)a[e].addEventListener("click",u)}();const m=new class{constructor(e,t,n,s,i,r){this.wrapper=e,this.slider=document.querySelector(t),this.sliderItems=document.querySelectorAll(n),this.nextBtn=document.querySelector(s),this.prevBtn=document.querySelector(i),this.paginationWrapper=document.querySelector(r),this.count=this.sliderItems.length,this.nextSlide=this.nextSlide.bind(this),this.prevSlide=this.prevSlide.bind(this),this.rotateToSlide=this.rotateToSlide.bind(this),this.insertPagination(),this.addListenersBtn(),this.insertFirstSlide(),this.insertLastSlide()}translateOnResize(){this.currentNumber=1,this.addSlideClass(1),this.translateSlider(1),this.colorPag(1)}insertPagination(){this.paginationWrapper.innerHTML="";for(let e=0;e<this.count;e++){const t=`<div data-slide="${e}" class="pagination-item">\n              </div>`;this.paginationWrapper.insertAdjacentHTML("beforeend",t)}this.paginationItems=document.querySelectorAll(`${this.wrapper} .pagination-item`),this.paginationWrapper.querySelector('.pagination-item[data-slide="1"]').classList.add("_active"),this.addSlideClass(1),this.translateSlider(1),this.addListenersPag()}addListenersBtn(){this.nextBtn.addEventListener("click",this.nextSlide),this.prevBtn.addEventListener("click",this.prevSlide)}addListenersPag(){for(let e=0;e<this.paginationItems.length;e++)this.paginationItems[e].addEventListener("click",this.rotateToSlide)}nextSlide(){if(this.currentNumber<this.count-1){const e=++this.currentNumber;this.translateSlider(e),this.addSlideClass(e),this.colorPag(e)}}prevSlide(){if(this.currentNumber>0){const e=--this.currentNumber;this.translateSlider(e),this.addSlideClass(e),this.colorPag(e)}}rotateToSlide(e){const t=e.target.dataset.slide;this.colorPag(t),this.addSlideClass(t),this.translateSlider(t),this.currentNumber=t}addSlideClass(e){const t=document.querySelector(`${this.wrapper} .slider__item._active`);null!=t&&t.classList.remove("_active"),this.sliderItems[e].classList.add("_active")}colorPag(e){const t=document.querySelector(`${this.wrapper} .pagination-item[data-slide="${e}"]`);this.paginationWrapper.querySelector("._active").classList.remove("_active"),t.classList.add("_active")}hiddenBtn(e){e.classList.add("_hidden")}showBtn(e){e.classList.remove("_hidden")}insertLastSlide(){const e=this.sliderItems[this.sliderItems.length-1].cloneNode(!0);e.classList.add("_copy-last"),this.slider.insertAdjacentElement("afterbegin",e)}insertFirstSlide(){const e=this.sliderItems[0].cloneNode(!0);e.classList.add("_copy-first"),this.slider.insertAdjacentElement("beforeend",e)}checkBtns(e){1==e?this.hiddenBtn(this.prevBtn):e==this.count?this.hiddenBtn(this.nextBtn):(this.showBtn(this.prevBtn),this.showBtn(this.nextBtn))}translateSlider(e){e++,this.checkBtns(e);const t=-(this.sliderItems[0].clientWidth+41)*e;this.slider.style.transform=`translate(${t}px,0px)`}touchStart(e){this.startPosition=e}moveSlider(e){if(this.startPosition>e){if(this.startPosition-e>50)return this.nextSlide(),1}else if(e-this.startPosition>50)return this.prevSlide(),1}}(".steps",".steps .slider__body",".steps .slider__item",".steps .arrow-right",".steps .arrow-left",".steps .slider__pagination"),h=document.querySelector(".steps .slider");h.addEventListener("pointerenter",(e=>{const t=e.clientX;m.touchStart(t),h.addEventListener("touchmove",p)}));const p=e=>{e.cancelable&&e.preventDefault();const t=e.touches[0].clientX;m.moveSlider(t)&&h.removeEventListener("touchmove",p)},S=document.querySelector(".skills__content"),f=S.querySelectorAll(".skill"),_=document.querySelector(".stories__info"),v=document.querySelector(".stories__story"),y=document.querySelector(".stories__btn"),L=document.querySelector(".footer .follow"),q=document.querySelector(".footer .target-column"),g=document.querySelector(".footer .parent-column"),w=document.querySelector(".reasons__column.column-3"),b=document.querySelector(".reasons__column.column-1"),E=document.querySelector(".reasons__column.column-2"),A=w.querySelector(".reason-move-1"),x=w.querySelector(".reason-move-2");window.addEventListener("resize",I);let k=!1,B=!1,j=!1,P=!1;function I(){window.matchMedia("(max-width: 1024px)").matches?d&&(d=!1,c.style.left="0px"):(d=!0,function(){const e=l.getBoundingClientRect().left-2;c.style.left=`${e}px`}()),m.translateOnResize(),k?window.matchMedia("(min-width: 1451px)").matches&&(w.insertAdjacentElement("beforeend",A),w.insertAdjacentElement("beforeend",x),k=!1):window.matchMedia("(max-width: 1450px)").matches&&(E.insertAdjacentElement("beforeend",x),b.insertAdjacentElement("beforeend",A),k=!0),window.matchMedia("(max-width: 1024px)").matches?P||(P=!0,q.insertAdjacentElement("beforeend",L)):P&&(P=!1,g.insertAdjacentElement("beforeend",L)),window.matchMedia("(max-width: 768px)").matches?(B||(B=!0,function(){for(let e=0;e<4;e++)S.insertAdjacentHTML("beforeend",'<div class="skills__column"></div>');const e=S.querySelectorAll(".skills__column");for(let t=0;t<4;t++){const n=f[t];e[0].insertAdjacentElement("beforeend",n)}for(let t=4;t<8;t++){const n=f[t];e[1].insertAdjacentElement("beforeend",n)}for(let t=8;t<12;t++){const n=f[t];e[2].insertAdjacentElement("beforeend",n)}for(let t=12;t<16;t++){const n=f[t];e[3].insertAdjacentElement("beforeend",n)}}()),j||(j=!0,v.insertAdjacentElement("beforeend",y))):(B&&(B=!1,function(){const e=S.querySelectorAll(".skills__column");for(let e=0;e<16;e++){const t=f[e];S.insertAdjacentElement("beforeend",t)}for(let t=0;t<4;t++)e[t].remove()}()),j&&(j=!1,_.insertAdjacentElement("beforeend",y)))}I();const M=document.querySelector(".arrow-top");"null"!=M&&M.addEventListener("click",(e=>{window.scrollTo({top:10,behavior:"smooth"})})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("form");function t(e){e.classList.add("_error")}function n(e){e.classList.remove("_error")}null!=e&&e.addEventListener("submit",(async function(s){s.preventDefault(),function(){let e=0;const s=document.querySelector(".input-email");n(s),!/^[\w]{1}[\w-\.]*@[\w-]+\.[a-z]{2,10}$/i.test(s.value)&&(t(s),e++);const i=document.querySelector(".input-phone");return n(i),function(e){return!/^\d[\d\(\)\ -]{4,16}\d$/.test(e.value)}(i)&&(t(i),e++),e}()||function(e){const t=new XMLHttpRequest,n=new FormData(e);t.open("POST","../form.php"),t.send(n),t.onloadend=()=>{200==t.status?(document.querySelector(".form-sended-modal").classList.add("_open"),e.reset()):(document.querySelector(".form-not-sended-modal").classList.add("_open"),e.reset())}}(e)}))}))})();